{"version":3,"sources":["webpack:///./src/views/HomePage.vue?cd01","webpack:///src/views/HomePage.vue","webpack:///./src/views/HomePage.vue?0e0e","webpack:///./src/views/HomePage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","sectionTitle","titles","tabLen","on","tabCallApi","scopedSlots","_u","key","fn","msgContent","slot1Table1Id","slot1Table1Columns","slot1Table1Data","slot1Table2Id","slot1Table2Columns","slot1Table2Data","proxy","slot2Tags","slot2Table1Id","slot2Table1Columns","slot2Table1Data","slot2Table2","staticRenderFns","name","mounted","watchApiCall","watchApiCallTable2","computed","insPolicyNumber","$store","state","applicant","table1Data","console","log","data","originalTable1Data","i","watch","oldVal","immediate","methods","tabName","watchTabApi","watchTabTableApi","component"],"mappings":"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","file":"js/homepage.6b8c8b60.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('SectionTitle',{attrs:{\"title\":_vm.sectionTitle}}),_c('Tabs',{attrs:{\"titles\":_vm.titles,\"tabLen\":_vm.tabLen},on:{\"tab-call-api\":_vm.tabCallApi},scopedSlots:_vm._u([{key:\"1\",fn:function(){return [_c('Accordion',{attrs:{\"id\":\"acc1_1\",\"title\":\"問題保單\"}},[_c('Message',{attrs:{\"title\":\"問題描述\",\"content\":_vm.msgContent}}),_c('TabulatorTable',{attrs:{\"tableId\":_vm.slot1Table1Id,\"columns\":_vm.slot1Table1Columns,\"tableData\":_vm.slot1Table1Data,\"checkId1\":\"home-slot1table1-check1\",\"checkId2\":\"home-slot1table1-check2\"}})],1),_c('Accordion',{attrs:{\"id\":\"acc1_2\",\"title\":\"保戶訊息\"}},[_c('TabulatorTable',{attrs:{\"tableId\":_vm.slot1Table2Id,\"columns\":_vm.slot1Table2Columns,\"tableData\":_vm.slot1Table2Data,\"checkId1\":\"home-slot1table2-check1\",\"checkId2\":\"home-slot1table2-check2\"}})],1)]},proxy:true},{key:\"2\",fn:function(){return [_c('Accordion',{attrs:{\"id\":\"acc2_1\",\"title\":\"要保人資料\"}},[_c('Tags',{attrs:{\"tags\":_vm.slot2Tags}}),_c('TabulatorTable',{attrs:{\"tableId\":_vm.slot2Table1Id,\"columns\":_vm.slot2Table1Columns,\"tableData\":_vm.slot2Table1Data,\"checkId1\":\"home-slot2table1-check1\",\"checkId2\":\"home-slot2table1-check2\"}})],1),_c('Accordion',{attrs:{\"id\":\"acc2_2\",\"title\":\"要保人特定資料\"}},[_c('Table',{attrs:{\"colNum\":2,\"table\":_vm.slot2Table2}})],1)]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 02, 03 提示訊息-->\n  <div>\n    <SectionTitle :title=\"sectionTitle\" />\n    <Tabs :titles=\"titles\" :tabLen=\"tabLen\" @tab-call-api=\"tabCallApi\">\n      <template v-slot:1>\n        <Accordion id=\"acc1_1\" title=\"問題保單\">\n          <Message title=\"問題描述\" :content=\"msgContent\" />\n          <TabulatorTable\n            :tableId=\"slot1Table1Id\"\n            :columns=\"slot1Table1Columns\"\n            :tableData=\"slot1Table1Data\"\n            checkId1=\"home-slot1table1-check1\"\n            checkId2=\"home-slot1table1-check2\"\n          />\n        </Accordion>\n        <Accordion id=\"acc1_2\" title=\"保戶訊息\">\n          <TabulatorTable\n            :tableId=\"slot1Table2Id\"\n            :columns=\"slot1Table2Columns\"\n            :tableData=\"slot1Table2Data\"\n            checkId1=\"home-slot1table2-check1\"\n            checkId2=\"home-slot1table2-check2\"\n          />\n        </Accordion>\n      </template>\n      <template v-slot:2>\n        <Accordion id=\"acc2_1\" title=\"要保人資料\">\n          <Tags :tags=\"slot2Tags\" />\n          <TabulatorTable\n            :tableId=\"slot2Table1Id\"\n            :columns=\"slot2Table1Columns\"\n            :tableData=\"slot2Table1Data\"\n            checkId1=\"home-slot2table1-check1\"\n            checkId2=\"home-slot2table1-check2\"\n          />\n        </Accordion>\n        <Accordion id=\"acc2_2\" title=\"要保人特定資料\">\n          <Table :colNum=\"2\" :table=\"slot2Table2\" />\n        </Accordion>\n      </template>\n    </Tabs>\n  </div>\n</template>\n\n<script>\nimport callApi from \"../helperFunctions/callApi\";\nimport { populateTable } from \"../helperFunctions/commonVue.js\";\nexport default {\n  name: \"insPolicyDetails\",\n  // beforeRouteEnter(to, from, next) {\n  //   next((vm) => {\n  //     vm.$store.dispatch(\"addHistory\", {\n  //       name: from.name,\n  //       cName: from.meta.name,\n  //       path: from.path,\n  //       id: uuid(),\n  //     });\n  //   });\n  // },\n  mounted() {\n    this.watchApiCall();//問題保單\n    this.watchApiCallTable2();//保戶訊息\n  },\n  computed: {\n    insPolicyNumber() {\n      return this.$store.state.insPolicyNumber;\n    },\n    applicant() {\n      return this.$store.state.applicant;\n    },\n    table1Data() {\n      let data = this.$store.state.singleInsPolicyData;\n      console.log(data);\n      let id = data ? data.id : \"no id\";\n      let originalTable1Data = this.table1;\n      if (data) {\n        for (let i = 0; i < originalTable1Data.length; i++) {\n          originalTable1Data[i][\"value\"] = `${id}_newData`;\n        }\n      }\n      return originalTable1Data;\n    },\n\n  },\n\n  watch: {\n    insPolicyNumber(newVal, oldVal) {\n      //call api to set table1Data\n      this.watchApiCall();\n      this.watchApiCallTable2();\n\n      // localStorage.policy_no=newVal;\n      console.log(oldVal);\n      console.log(`newVal: ${newVal} \\n oldVal: ${oldVal}`);\n    },\n    immediate: true,\n  },\n  methods: {\n    tabCallApi(tabName) {\n      // console.log(tabName)\n      if (tabName === \"要保人資料\") {\n        this.watchTabApi();//要保人資料\n        this.watchTabTableApi();//要保人特定資料\n      }\n    },\n    // 1問題保單---------------------\n    async watchApiCall() {\n      console.log(\"callApi\");\n      //table2 init\n      this.slot1Table1Data = [];\n      const domain = this.$store.state.domain;\n      const url = domain + \"/clientInfo/executeMission01\";\n\n      // const token = this.$store.state.token;\n      const params = {\n        policy_no: this.insPolicyNumber,\n      };\n      const headers = {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        //Authorization: \"bearer \" + token,\n      };\n      const { res } = callApi();\n      const { data } = await res(url, params, headers);\n      console.log(data.data)\n      this.slot1Table1Data = data.data;\n    },\n\n    // 2保戶訊息--------------------------\n    async watchApiCallTable2() {\n      //table2 init\n      this.slot1Table2Data = [];\n      const domain = this.$store.state.domain;\n      const url = domain + \"/clientInfo/executeMission02\";\n      // const token = this.$store.state.token;\n      const params = {\n        policy_no: this.insPolicyNumber,\n      };\n      const headers = {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        //Authorization: \"bearer \" + token,\n      };\n      const { res } = callApi();\n      const { data } = await res(url, params, headers);\n      this.slot1Table2Data = data.data;\n    },\n\n    // 3要保人資料------------------------\n    async watchTabApi() {\n      //table2 init\n      this.slot2Table1Data = [];\n      const domain = this.$store.state.domain;\n      const url = domain + \"/clientInfo/executeMissionTabValues01\";\n      // const token = this.$store.state.token;\n      const params = {\n        client_id: this.applicant,\n\n      };\n      const headers = {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        //Authorization: \"bearer \" + token,\n      };\n      const { res } = callApi();\n      const { data } = await res(url, params, headers);\n      console.log(data.data)\n      this.slot2Table1Data = data.data;\n    },\n    // 4要保人特定資料-------------------------\n    \n    async watchTabTableApi() {\n      //table2 init\n      const domain = this.$store.state.domain;\n      const url = domain + \"/clientInfo/executeMissionTabValues02\";\n      // const token = this.$store.state.token;\n      const params = {\n        policy_no: this.insPolicyNumber,\n        client_id: this.applicant,\n      };\n      const headers = {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        //Authorization: \"bearer \" + token,\n      };\n      const { res } = callApi();\n      const { data } = await res(url, params, headers);\n      \n      console.log(data.data)\n      let newTableData = data.data[0]; \n      populateTable(newTableData, this.slot2Table2);\n      this.slot2Table2[1].value=newTableData.mail_sts+\"/\"+newTableData.home_sts;\n    },\n  },\n\n  data() {\n    return {\n      slot2Tags: [{title: \"要保人姓名/ID\", detail: \"要保人姓名/ID_設計文字\"}],\n      sectionTitle: \"提示訊息\",\n      tabLen: 2,\n      titles: [\"訊息\", \"要保人資料\"],\n      msgContent: \"\",\n      slot1Table1Id: \"homeSlot1Table1\",\n      slot1Table2Id: \"homeSlot1Table2\",\n      slot2Table1Id: \"homeSlot2Table1\",\n      slot1Table1Columns: [\n        { title: \"種類\", field: \"restrained\" },\n        { title: \"處理者\", field: \"process_user\" },\n        { title: \"處理日期\", field: \"process_date\" },\n        { title: \"問題描述\", field: \"restrained_desc\" },\n      ],\n      slot1Table2Columns: [\n        { title: \"保單號碼\", field: \"policy_no\" },\n        { title: \"訊息種類\", field: \"eccm_type\" },\n        { title: \"訊息內容\", field: \"comments\" },\n        { title: \"通知日期\", field: \"crt_date\" },\n        { title: \"發送單位\", field: \"dept_name\" },\n      ],\n      slot2Table1Columns: [\n        { title: \"保單號碼\", field: \"policy_no\" },\n        { title: \"收費地址指示\", field: \"mail_addr_ind\" },\n        { title: \"住所地址指示\", field: \"home_addr_ind\" },\n\n        { title: \"無效收費地址\", field: \"pmia_sts\" },\n\n        { title: \"收費地址\", field: \"mail_addr\" },\n        { title: \"住所地址\", field: \"home_addr\" },\n      ],\n      slot1Table1Data: [],\n      slot1Table2Data: [],\n      slot2Table1Data: [],\n      //TODO swagger key對不上\n      slot2Table2: [\n\n        { key: \"列管/手機\", keyId: \"mobil_no\", value: \"\" },\n        { key: \"電子表單/驗證\",keyId: \"mail_sts\",value: \"\",},\n        { key: \"列管/E-mail\", keyId: \"e_mail\", value: \"\" },\n        //no match\n        { key: \"自動化交易申請\", keyId: \"ec_acct\", value: \"\" },\n        { key: \"失聯保戶\", keyId: \"lost_ind\", value: \"\" },\n        {key: \"投資風險屬性\",keyId: \"risk_suit_desc\",value: \"\",},\n        {key: \"FATCA指示\",keyId: \"fatca_ind_desc\",value: \"\",},\n        //no match\n        { key: \"未領還本金\", keyId: \"r_psck_sw\", value: \"\" },\n        { key: \"簽樣卡\", keyId: \"o1_sign_ptn_card\", value: \"\" },\n\n      ],\n    };\n  },\n};\n</script>\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomePage.vue?vue&type=template&id=d0d23bdc&\"\nimport script from \"./HomePage.vue?vue&type=script&lang=js&\"\nexport * from \"./HomePage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}