{"version":3,"sources":["webpack:///./src/views/InsKindInfo.vue?d19f","webpack:///src/views/InsKindInfo.vue","webpack:///./src/views/InsKindInfo.vue?b19d","webpack:///./src/views/InsKindInfo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","sectionTitle","staticClass","tableAcc1Id","tableAcc1Columns","tableAcc1Data","on","handleTabulatorData","table1Data","staticRenderFns","name","mounted","watchApiCall","computed","insPolicyNumber","$store","state","watch","console","log","oldVal","immediate","methods","rowData","data","component"],"mappings":"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","file":"js/inskindinfo.870f8980.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('SectionTitle',{attrs:{\"title\":_vm.sectionTitle}}),_c('div',{staticClass:\"content-card\"},[_c('div',{staticClass:\"card-inner\"},[_c('div',{staticClass:\"card-detail\"},[_c('Accordion',{attrs:{\"id\":\"inskindinfo-acc1\",\"title\":\"保障內容\"}},[_c('TabulatorTable',{attrs:{\"tableId\":_vm.tableAcc1Id,\"columns\":_vm.tableAcc1Columns,\"tableData\":_vm.tableAcc1Data,\"checkId1\":\"inskindinfo-acc1-check1\",\"checkId2\":\"inskindinfo-acc1-check2\"},on:{\"transmit-tabulator-data\":_vm.handleTabulatorData}})],1),_c('Accordion',{attrs:{\"id\":\"inskindinfo-acc2\",\"title\":\"保障內容與其他相關資料\"}},[_c('Table',{attrs:{\"colNum\":2,\"table\":_vm.table1Data}})],1)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 11 保障險種資料-->\n  <div>\n    <SectionTitle :title=\"sectionTitle\" />\n    <div class=\"content-card\">\n      <div class=\"card-inner\">\n        <div class=\"card-detail\">\n          <Accordion id=\"inskindinfo-acc1\" title=\"保障內容\">\n            <TabulatorTable\n              :tableId=\"tableAcc1Id\"\n              :columns=\"tableAcc1Columns\"\n              :tableData=\"tableAcc1Data\"\n              checkId1=\"inskindinfo-acc1-check1\"\n              checkId2=\"inskindinfo-acc1-check2\"\n              @transmit-tabulator-data=\"handleTabulatorData\"\n            />\n          </Accordion>\n          <Accordion id=\"inskindinfo-acc2\" title=\"保障內容與其他相關資料\">\n            <Table :colNum=\"2\" :table=\"table1Data\" />\n          </Accordion>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport callApi from \"../helperFunctions/callApi\";\nimport { populateTable } from \"../helperFunctions/commonVue.js\";\nexport default {\n  name: \"InsKindInfo\",\n  // beforeRouteEnter(to, from, next) {\n  //   next((vm) => {\n  //     vm.$store.dispatch(\"addHistory\", {\n  //       name: from.name,\n  //       cName: from.meta.name,\n  //       path: from.path,\n  //       id: uuid(),\n  //     });\n  //   });\n  // },\n\n  mounted() {\n    this.watchApiCall();\n  },\n  computed: {\n    insPolicyNumber() {\n      return this.$store.state.insPolicyNumber;\n    },\n  },\n  watch: {\n    // insPolicyNumber:{\n    //   handler(newVal, oldVal){\n    //      this.watchApiCall();\n    //       console.log(`newVal: ${newVal} \\n oldVal: ${oldVal}`);\n    //   }\n    // },\n    // immediate:true,\n    // deep: true\n    insPolicyNumber(newVal, oldVal) {\n      //call api to set table1Data\n      this.watchApiCall();//保障險種資料\n      // localStorage.policy_no=newVal;\n      console.log(oldVal);\n      console.log(`newVal: ${newVal} \\n oldVal: ${oldVal}`);\n    },\n    immediate: true,\n  },\n  methods: {\n    handleTabulatorData(rowData) {//push data in to table\n      //* to populate custom table\n      console.log(rowData);\n      this.table1Data = populateTable(rowData, this.table1Data);\n    },\n    async watchApiCall() {\n      //table2 init\n      this.tableAcc1Data = [];\n      const domain = this.$store.state.domain;\n      const url = domain + \"/poPlan/executeMission\";\n      // const token = this.$store.state.token;\n      const params = {\n        policy_no: this.insPolicyNumber,\n      };\n      const headers = {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        //Authorization: \"bearer \" + token,\n      };\n      const { res } = callApi();\n      const { data } = await res(url, params, headers);\n      this.tableAcc1Data = data.data;\n    },\n  },\n\n  data() {\n    return {\n      sectionTitle: \"保障險種資料\",\n      tableAcc1Id: \"tableAcc1Id\",\n      tableAcc1Columns: [\n        { title: \"關係\", field: \"client_ident\" },\n        // no match\n        { title: \"產品簡名\", field: \"plan_code\" },\n        { title: \"版數\", field: \"rate_scale\" },\n        { title: \"社保\", field: \"rate_insu\" },\n        { title: \"保額\", field: \"unit_value\" },\n        // no match\n        { title: \"狀態\", field: \"co_sts_desc\" },\n        { title: \"職級\", field: \"rate_occu\" },\n        { title: \"年齡\", field: \"rate_age\" },\n        { title: \"性別\", field: \"rate_sex\" },\n        { title: \"年度\", field: \"dur\" },\n        { title: \"生效日期\", field: \"co_issue_date\" },\n        // no match\n        { title: \"每期保費\", field: \"prem_factor\" },\n        // no match\n        { title: \"變更生效日\", field: \"co_chg_date\" },\n      ],\n      tableAcc1Data: [],\n      table1Data: [\n        { key: \"險種名稱\", keyId: \"plan_desc\", value: \"\" },\n        { key: \"比例加費\", keyId: \"multi_rating_1\", value: \"\" },\n        { key: \"單位保額\", keyId: \"unit_value\", value: \"\" },\n        { key: \"繳費終日\", keyId: \"matured_date\", value: \"\" },\n        { key: \"單位保費\", keyId: \"prem_factor\", value: \"\" },\n        { key: \"展期終日\", keyId: \"eti_expired_date\", value: \"\" },\n        { key: \"定額加費\", keyId: \"flat_rating_amt\", value: \"\" },\n        { key: \"生存保額\", keyId: \"eti_pe_amt\", value: \"\" },\n        { key: \"生效日期\", keyId: \"co_issue_date\", value: \"\" },\n        { key: \"基本附加\", keyId: \"b_prem_loading\", value: \"\" },\n        { key: \"應繳費日\", keyId: \"paid_to_date\", value: \"\" },\n        { key: \"體位\", keyId: \"rate_medi\", value: \"\" },\n        { key: \"增額繳清\", keyId: \"accumulated_pua\", value: \"\" },\n        //no match\n        { key: \"原始保費\", keyId: \"prem_factor\", value: \"\" },\n        { key: \"弱體代碼\", keyId: \"sub_std_desc\", value: \"\" },\n        { key: \"加費年期\", keyId: \"flat_rating_year\", value: \"\" },\n        { key: \"保險金額/保費\", keyId: \"face_amt\", value: \"\" },\n        { key: \"保障終期\", keyId: \"expired_date\", value: \"\" },\n        { key: \"每期保費\", keyId: \"prem_factor\", value: \"\" },\n        { key: \"保障狀態\", keyId: \"co_sts_desc\", value: \"\" },\n        { key: \"基本投資\", keyId: \"b_prem_loading\", value: \"\" },\n        { key: \"生存到期\", keyId: \"eti_pe_date\", value: \"\" },\n        { key: \"\", keyId: 22, value: \"\" },\n        { key: \"年度目標\", keyId: \"co_target_prem\", value: \"\" },\n      ],\n    };\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsKindInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsKindInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InsKindInfo.vue?vue&type=template&id=2c4b7c92&\"\nimport script from \"./InsKindInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./InsKindInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}