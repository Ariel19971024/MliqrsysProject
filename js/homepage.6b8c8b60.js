(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["homepage"],{f4a9:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("SectionTitle",{attrs:{title:e.sectionTitle}}),a("Tabs",{attrs:{titles:e.titles,tabLen:e.tabLen},on:{"tab-call-api":e.tabCallApi},scopedSlots:e._u([{key:"1",fn:function(){return[a("Accordion",{attrs:{id:"acc1_1",title:"問題保單"}},[a("Message",{attrs:{title:"問題描述",content:e.msgContent}}),a("TabulatorTable",{attrs:{tableId:e.slot1Table1Id,columns:e.slot1Table1Columns,tableData:e.slot1Table1Data,checkId1:"home-slot1table1-check1",checkId2:"home-slot1table1-check2"}})],1),a("Accordion",{attrs:{id:"acc1_2",title:"保戶訊息"}},[a("TabulatorTable",{attrs:{tableId:e.slot1Table2Id,columns:e.slot1Table2Columns,tableData:e.slot1Table2Data,checkId1:"home-slot1table2-check1",checkId2:"home-slot1table2-check2"}})],1)]},proxy:!0},{key:"2",fn:function(){return[a("Accordion",{attrs:{id:"acc2_1",title:"要保人資料"}},[a("Tags",{attrs:{tags:e.slot2Tags}}),a("TabulatorTable",{attrs:{tableId:e.slot2Table1Id,columns:e.slot2Table1Columns,tableData:e.slot2Table1Data,checkId1:"home-slot2table1-check1",checkId2:"home-slot2table1-check2"}})],1),a("Accordion",{attrs:{id:"acc2_2",title:"要保人特定資料"}},[a("Table",{attrs:{colNum:2,table:e.slot2Table2}})],1)]},proxy:!0}])})],1)},n=[],o=a("1da1"),i=(a("96cf"),a("99af"),a("5d10")),s=a("9cdd"),c={name:"insPolicyDetails",mounted:function(){this.watchApiCall(),this.watchApiCallTable2()},computed:{insPolicyNumber:function(){return this.$store.state.insPolicyNumber},applicant:function(){return this.$store.state.applicant},table1Data:function(){var e=this.$store.state.singleInsPolicyData;console.log(e);var t=e?e.id:"no id",a=this.table1;if(e)for(var l=0;l<a.length;l++)a[l]["value"]="".concat(t,"_newData");return a}},watch:{insPolicyNumber:function(e,t){this.watchApiCall(),this.watchApiCallTable2(),console.log(t),console.log("newVal: ".concat(e," \n oldVal: ").concat(t))},immediate:!0},methods:{tabCallApi:function(e){"要保人資料"===e&&(this.watchTabApi(),this.watchTabTableApi())},watchApiCall:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,l,n,o,s,c,r,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("callApi"),e.slot1Table1Data=[],a=e.$store.state.domain,l=a+"/clientInfo/executeMission01",n={policy_no:e.insPolicyNumber},o={"Content-Type":"application/x-www-form-urlencoded"},s=Object(i["a"])(),c=s.res,t.next=9,c(l,n,o);case 9:r=t.sent,d=r.data,console.log(d.data),e.slot1Table1Data=d.data;case 13:case"end":return t.stop()}}),t)})))()},watchApiCallTable2:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,l,n,o,s,c,r,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.slot1Table2Data=[],a=e.$store.state.domain,l=a+"/clientInfo/executeMission02",n={policy_no:e.insPolicyNumber},o={"Content-Type":"application/x-www-form-urlencoded"},s=Object(i["a"])(),c=s.res,t.next=8,c(l,n,o);case 8:r=t.sent,d=r.data,e.slot1Table2Data=d.data;case 11:case"end":return t.stop()}}),t)})))()},watchTabApi:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,l,n,o,s,c,r,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.slot2Table1Data=[],a=e.$store.state.domain,l=a+"/clientInfo/executeMissionTabValues01",n={client_id:e.applicant},o={"Content-Type":"application/x-www-form-urlencoded"},s=Object(i["a"])(),c=s.res,t.next=8,c(l,n,o);case 8:r=t.sent,d=r.data,console.log(d.data),e.slot2Table1Data=d.data;case 12:case"end":return t.stop()}}),t)})))()},watchTabTableApi:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,l,n,o,c,r,d,u,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.state.domain,l=a+"/clientInfo/executeMissionTabValues02",n={policy_no:e.insPolicyNumber,client_id:e.applicant},o={"Content-Type":"application/x-www-form-urlencoded"},c=Object(i["a"])(),r=c.res,t.next=7,r(l,n,o);case 7:d=t.sent,u=d.data,console.log(u.data),b=u.data[0],Object(s["b"])(b,e.slot2Table2),e.slot2Table2[1].value=b.mail_sts+"/"+b.home_sts;case 13:case"end":return t.stop()}}),t)})))()}},data:function(){return{slot2Tags:[{title:"要保人姓名/ID",detail:"要保人姓名/ID_設計文字"}],sectionTitle:"提示訊息",tabLen:2,titles:["訊息","要保人資料"],msgContent:"",slot1Table1Id:"homeSlot1Table1",slot1Table2Id:"homeSlot1Table2",slot2Table1Id:"homeSlot2Table1",slot1Table1Columns:[{title:"種類",field:"restrained"},{title:"處理者",field:"process_user"},{title:"處理日期",field:"process_date"},{title:"問題描述",field:"restrained_desc"}],slot1Table2Columns:[{title:"保單號碼",field:"policy_no"},{title:"訊息種類",field:"eccm_type"},{title:"訊息內容",field:"comments"},{title:"通知日期",field:"crt_date"},{title:"發送單位",field:"dept_name"}],slot2Table1Columns:[{title:"保單號碼",field:"policy_no"},{title:"收費地址指示",field:"mail_addr_ind"},{title:"住所地址指示",field:"home_addr_ind"},{title:"無效收費地址",field:"pmia_sts"},{title:"收費地址",field:"mail_addr"},{title:"住所地址",field:"home_addr"}],slot1Table1Data:[],slot1Table2Data:[],slot2Table1Data:[],slot2Table2:[{key:"列管/手機",keyId:"mobil_no",value:""},{key:"電子表單/驗證",keyId:"mail_sts",value:""},{key:"列管/E-mail",keyId:"e_mail",value:""},{key:"自動化交易申請",keyId:"ec_acct",value:""},{key:"失聯保戶",keyId:"lost_ind",value:""},{key:"投資風險屬性",keyId:"risk_suit_desc",value:""},{key:"FATCA指示",keyId:"fatca_ind_desc",value:""},{key:"未領還本金",keyId:"r_psck_sw",value:""},{key:"簽樣卡",keyId:"o1_sign_ptn_card",value:""}]}}},r=c,d=a("2877"),u=Object(d["a"])(r,l,n,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=homepage.6b8c8b60.js.map